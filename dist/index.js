"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}/// <reference path="./../typings/FileSaver/FileSaver.d.ts"/>
/// <reference path="./../typings/c3/c3.d.ts"/>
/// <reference path="./../typings/classnames/classnames.d.ts"/>
/// <reference path="./../typings/clipboard/clipboard.d.ts"/>
/// <reference path="./../typings/codemirror/codemirror.d.ts"/>
/// <reference path="./../typings/codemirror/react-codemirror.d.ts"/>
/// <reference path="./../typings/d3/d3.d.ts"/>
/// <reference path="./../typings/fixed-data-table/fixed-data-table.d.ts"/>
/// <reference path="./../typings/fuse/fuse.d.ts"/>
/// <reference path="./../typings/jquery/jquery.d.ts"/>
/// <reference path="./../typings/jszip/jszip.d.ts"/>
/// <reference path="./../typings/lodash/lodash.d.ts"/>
/// <reference path="./../typings/moment/moment-node.d.ts"/>
/// <reference path="./../typings/moment/moment.d.ts"/>
/// <reference path="./../typings/openlayers/openlayers.d.ts"/>
/// <reference path="./../typings/pixi.js/pixi.js.d.ts"/>
/// <reference path="./../typings/proj4/proj4.d.ts"/>
/// <reference path="./../typings/rc-slider/rc-slider.d.ts"/>
/// <reference path="./../typings/react-color/react-color.d.ts"/>
/// <reference path="./../typings/react-date-picker.d.ts"/>
/// <reference path="./../typings/react-dropzone/react-dropzone.d.ts"/>
/// <reference path="./../typings/react-notification-system/react-notification-system.d.ts"/>
/// <reference path="./../typings/react-sparklines/react-sparklines.d.ts"/>
/// <reference path="./../typings/react-swf/react-swf.d.ts"/>
/// <reference path="./../typings/react/react-addons-create-fragment.d.ts"/>
/// <reference path="./../typings/react/react-addons-css-transition-group.d.ts"/>
/// <reference path="./../typings/react/react-addons-linked-state-mixin.d.ts"/>
/// <reference path="./../typings/react/react-addons-perf.d.ts"/>
/// <reference path="./../typings/react/react-addons-pure-render-mixin.d.ts"/>
/// <reference path="./../typings/react/react-addons-test-utils.d.ts"/>
/// <reference path="./../typings/react/react-addons-transition-group.d.ts"/>
/// <reference path="./../typings/react/react-addons-update.d.ts"/>
/// <reference path="./../typings/react/react-dom.d.ts"/>
/// <reference path="./../typings/react/react-global.d.ts"/>
/// <reference path="./../typings/react/react.d.ts"/>
/// <reference path="./../typings/swfobject/swfobject.d.ts"/>
/// <reference path="./../typings/tsd.d.ts"/>
/// <reference path="./../typings/weave/as-types.d.ts"/>
/// <reference path="./../typings/weave/weavejs-core.d.ts"/>
/// <reference path="./../typings/weave/weavejs.d.ts"/>
var TodoApp;(function(TodoApp){var LinkableString=weavejs.core.LinkableString;var LinkableBoolean=weavejs.core.LinkableBoolean;var Todo=function Todo(){_classCallCheck(this,Todo);this.id=Weave.linkableChild(this,LinkableString);this.text=Weave.linkableChild(this,LinkableString);this.complete=Weave.linkableChild(this,LinkableBoolean)};TodoApp.Todo=Todo;Weave.registerClass(Todo,"weavejs.app.TodoApp.Todo",null,"Todo")})(TodoApp||(TodoApp={}));var TodoApp;(function(TodoApp){var components;(function(components){var TodoTextInput=function(_React$Component){_inherits(TodoTextInput,_React$Component);function TodoTextInput(props){_classCallCheck(this,TodoTextInput);/**
                 * Invokes the callback passed in as onSave, allowing this component to be
                 * used in different ways.
                 */var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(TodoTextInput).call(this,props));_this.save=function(){_this.props.onSave(_this.state.value);_this.setState({value:""})};/**
                 *
                 * @param event
                 * @private
                 */_this.onChange=function(event){_this.setState({value:event.target.value})};/**
                 * @param event
                 * @private
                 */_this.onKeyDown=function(event){if(event.keyCode===weavejs.util.KeyboardUtils.KEYCODES.ENTER){_this.save()}};_this.state={value:_this.props.value||""};return _this}_createClass(TodoTextInput,[{key:"render",value:function render(){return React.createElement("input",{className:this.props.className,id:this.props.id,placeholder:this.props.placeholder,onBlur:this.save,onChange:this.onChange,onKeyDown:this.onKeyDown,value:this.state.value,autoFocus:true})}}]);return TodoTextInput}(React.Component);components.TodoTextInput=TodoTextInput})(components=TodoApp.components||(TodoApp.components={}))})(TodoApp||(TodoApp={}));var TodoApp;(function(TodoApp){var components;(function(components){var Todo=TodoApp.Todo;var DynamicComponent=weavejs.ui.DynamicComponent;var TodoItem=function(_React$Component2){_inherits(TodoItem,_React$Component2);/**
             * Copyright (c) 2014-2015, Facebook, Inc.
             * All rights reserved.
             *
             * This source code is licensed under the BSD-style license found in the
             * LICENSE file in the root directory of this source tree. An additional grant
             * of patent rights can be found in the PATENTS file in the same directory.
             */function TodoItem(props){_classCallCheck(this,TodoItem);var _this2=_possibleConstructorReturn(this,Object.getPrototypeOf(TodoItem).call(this,props));_this2.onToggleComplete=function(){_this2.todo.complete.value=!_this2.todo.complete.value};_this2.onDoubleClick=function(){_this2.setState({isEditing:true})};/**
                 * Event handler called within TodoTextInput.
                 * Defining this here allows TodoTextInput to be used in multiple places
                 * in different ways.
                 * @param  {string} text
                 */_this2.onSave=function(text){_this2.todo.text.value=text;_this2.setState({isEditing:false})};DynamicComponent.setDependencies(_this2,[props.todo]);_this2.state={isEditing:false};return _this2}_createClass(TodoItem,[{key:"render",/**
             * @return {object}
             */value:function render(){var input;if(this.state.isEditing){input=React.createElement(components.TodoTextInput,{className:"edit",onSave:this.onSave,value:this.todo.text.value})}// List items should get the class 'editing' when editing
// and 'completed' when marked as completed.
// Note that 'completed' is a classification while 'complete' is a state.
// This differentiation between classification and state becomes important
// in the naming of view actions toggleComplete() vs. destroyCompleted().
return React.createElement("li",{className:classNames({"completed":this.todo.complete.value,"editing":this.state.isEditing})},React.createElement("div",{className:"view"},React.createElement("input",{className:"toggle",type:"checkbox",checked:this.todo.complete.value,onChange:this.onToggleComplete}),React.createElement("label",{onDoubleClick:this.onDoubleClick},this.todo.text.value),React.createElement("button",{className:"destroy",onClick:this.props.onDestroyClick})),input)}},{key:"todo",get:function get(){return this.props.todo}}]);return TodoItem}(React.Component);components.TodoItem=TodoItem;Weave.registerClass(Todo,"weavejs.app.TodoApp.Todo",null,"Todo")})(components=TodoApp.components||(TodoApp.components={}))})(TodoApp||(TodoApp={}));var TodoApp;(function(TodoApp){var components;(function(components){var TodoItem=TodoApp.components.TodoItem;var DynamicComponent=weavejs.ui.DynamicComponent;var MainSection=function(_React$Component3){_inherits(MainSection,_React$Component3);function MainSection(props){_classCallCheck(this,MainSection);var _this3=_possibleConstructorReturn(this,Object.getPrototypeOf(MainSection).call(this,props));_this3.toggleCompleteAll=function(){TodoApp.App.toggleCompleteAll(_this3.allTodos)};DynamicComponent.setDependencies(_this3,[props.allTodos,props.areAllComplete]);return _this3}_createClass(MainSection,[{key:"render",value:function render(){var _this4=this;var todos=this.allTodos.getObjects().map(function(todo){return React.createElement(TodoItem,{key:_this4.allTodos.getName(todo),todo:todo,onDestroyClick:function onDestroyClick(){return TodoApp.App.destroy(_this4.allTodos.getName(todo),_this4.allTodos)}})});return React.createElement("section",{id:"main"},React.createElement("input",{id:"toggle-all",type:"checkbox",onChange:this.toggleCompleteAll,checked:this.props.areAllComplete.value}),React.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),React.createElement("ul",{id:"todo-list"},todos))}},{key:"allTodos",get:function get(){return this.props.allTodos}}]);return MainSection}(React.Component);components.MainSection=MainSection})(components=TodoApp.components||(TodoApp.components={}))})(TodoApp||(TodoApp={}));/**
 * Copyright (c) 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */var TodoApp;(function(TodoApp){var components;(function(components){var TodoTextInput=TodoApp.components.TodoTextInput;var CenteredIcon=weavejs.ui.CenteredIcon;var Header=function(_React$Component4){_inherits(Header,_React$Component4);function Header(){var _Object$getPrototypeO;_classCallCheck(this,Header);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var _this5=_possibleConstructorReturn(this,(_Object$getPrototypeO=Object.getPrototypeOf(Header)).call.apply(_Object$getPrototypeO,[this].concat(args)));_this5.onSave=function(text){_this5.props.onCreate(text)};return _this5}_createClass(Header,[{key:"render",value:function render(){return React.createElement("header",{id:"header"},React.createElement("h1",null,"todos"),React.createElement(TodoTextInput,{id:"new-todo",placeholder:"What needs to be done?",onSave:this.onSave}),React.createElement("div",{style:{float:"right"}},React.createElement(CenteredIcon,{"aria-label":"Undo",onClick:this.props.undo,className:classNames("weave-icon"),iconProps:{className:"fa fa-arrow-left"}}),React.createElement(CenteredIcon,{"aria-label":"Redo",onClick:this.props.redo,className:classNames("weave-icon"),iconProps:{className:"fa fa-arrow-right"}})))}}]);return Header}(React.Component);components.Header=Header})(components=TodoApp.components||(TodoApp.components={}))})(TodoApp||(TodoApp={}));var TodoApp;(function(TodoApp){var components;(function(components){var DynamicComponent=weavejs.ui.DynamicComponent;var Footer=function(_React$Component5){_inherits(Footer,_React$Component5);function Footer(props){_classCallCheck(this,Footer);/**
                 * Event handler to delete all completed TODOs
                 */var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(Footer).call(this,props));_this6._onClearCompletedClick=function(){TodoApp.App.destroyCompleted(_this6.allTodos)};DynamicComponent.setDependencies(_this6,[props.allTodos]);return _this6}_createClass(Footer,[{key:"render",value:function render(){var total=this.allTodos.getNames().length;if(total===0){return null}var completed=0;this.allTodos.getObjects().forEach(function(todo){if(todo.complete.value)completed++});var itemsLeft=total-completed;var itemsLeftPhrase=itemsLeft===1?" item ":" items ";itemsLeftPhrase+="left";// Undefined and thus not rendered if no completed items are left.
var clearCompletedButton;if(completed){clearCompletedButton=React.createElement("button",{id:"clear-completed",onClick:this._onClearCompletedClick},"Clear completed (",completed,")")}return React.createElement("footer",{id:"footer"},React.createElement("span",{id:"todo-count"},React.createElement("strong",null,itemsLeft),itemsLeftPhrase),clearCompletedButton)}},{key:"allTodos",get:function get(){return this.props.allTodos}}]);return Footer}(React.Component);components.Footer=Footer})(components=TodoApp.components||(TodoApp.components={}))})(TodoApp||(TodoApp={}));var TodoApp;(function(TodoApp){var Todo=TodoApp.Todo;var LinkableHashMap=weavejs.core.LinkableHashMap;var Header=TodoApp.components.Header;var MainSection=TodoApp.components.MainSection;var Footer=TodoApp.components.Footer;var LinkableBoolean=weavejs.core.LinkableBoolean;var App=function(_React$Component6){_inherits(App,_React$Component6);function App(props){_classCallCheck(this,App);var _this7=_possibleConstructorReturn(this,Object.getPrototypeOf(App).call(this,props));_this7.undo=function(){_this7.props.weave.history.undo()};_this7.redo=function(){_this7.props.weave.history.redo()};_this7.allTodos=(_this7.props.weave||new Weave).root.requestObject("todos",LinkableHashMap);_this7.areAllComplete=(_this7.props.weave||new Weave).root.requestObject("areAllComplete",LinkableBoolean);_this7.allTodos.addGroupedCallback(_this7,_this7.markAllAsComplete);return _this7}_createClass(App,[{key:"markAllAsComplete",value:function markAllAsComplete(){if(TodoApp.App.areAllComplete(this.allTodos))this.areAllComplete.value=true;else this.areAllComplete.value=false}//  Actions
//  Collection of static functions that can be called
//  from the sub components
},{key:"render",value:function render(){var _this8=this;return React.createElement("div",{style:{display:"flex",flex:1,flexDirection:"column"}},React.createElement(Header,{onCreate:function onCreate(text){return TodoApp.App.create(text,_this8.allTodos)},undo:this.undo,redo:this.redo}),React.createElement(MainSection,{allTodos:this.allTodos,areAllComplete:this.areAllComplete}),React.createElement(Footer,{allTodos:this.allTodos}))}}],[{key:"areAllComplete",value:function areAllComplete(todos){var todoList=todos.getObjects();if(!todoList.length)return false;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=todoList[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var todo=_step.value;if(!todo.complete.value)return false}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return true}},{key:"create",value:function create(text,todos){text=text.trim();if(text!==""){var newTodo=todos.requestObject(todos.generateUniqueName("Todo"),Todo);newTodo.text.value=text}}},{key:"destroy",value:function destroy(id,todos){todos.removeObject(id)}},{key:"destroyCompleted",value:function destroyCompleted(todos){todos.getObjects().forEach(function(todo){if(todo.complete.value)todos.removeObject(todos.getName(todo))})}},{key:"updateAll",value:function updateAll(value,todos){todos.getObjects().forEach(function(todo){todo.complete.value=value})}},{key:"toggleCompleteAll",value:function toggleCompleteAll(todos){if(TodoApp.App.areAllComplete(todos))TodoApp.App.updateAll(false,todos);else TodoApp.App.updateAll(true,todos)}}]);return App}(React.Component);TodoApp.App=App})(TodoApp||(TodoApp={}));$(function(){var weave=new Weave;ReactDOM.render(React.createElement(TodoApp.App,{weave:weave}),document.getElementById("todo-app"))});/// <reference path="./js//Todo.ts"/>
/// <reference path="./js/components/TodoTextInput.tsx"/>
/// <reference path="./js/components/TodoItem.tsx"/>
/// <reference path="./js/components/MainSection.tsx"/>
/// <reference path="./js/components/Header.tsx"/>
/// <reference path="./js/components/Footer.tsx"/>
/// <reference path="./js/components/TodoApp.tsx"/>
/// <reference path="./index.tsx"/>
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvX2xpYi1yZWZlcmVuY2VzLnRzIiwiLi4vc3JjL2pzL1RvZG8udHMiLCIuLi9zcmMvanMvY29tcG9uZW50cy9Ub2RvVGV4dElucHV0LnRzeCIsIi4uL3NyYy9qcy9jb21wb25lbnRzL1RvZG9JdGVtLnRzeCIsIi4uL3NyYy9qcy9jb21wb25lbnRzL01haW5TZWN0aW9uLnRzeCIsIi4uL3NyYy9qcy9jb21wb25lbnRzL0hlYWRlci50c3giLCIuLi9zcmMvanMvY29tcG9uZW50cy9Gb290ZXIudHN4IiwiLi4vc3JjL2pzL2NvbXBvbmVudHMvVG9kb0FwcC50c3giLCIuLi9zcmMvaW5kZXgudHN4IiwiLi4vc3JjL19yZWZlcmVuY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJpekNBQUEsQUFBNkQ7QUFDN0QsQUFBK0M7QUFDL0MsQUFBK0Q7QUFDL0QsQUFBNkQ7QUFDN0QsQUFBK0Q7QUFDL0QsQUFBcUU7QUFDckUsQUFBK0M7QUFDL0MsQUFBMkU7QUFDM0UsQUFBbUQ7QUFDbkQsQUFBdUQ7QUFDdkQsQUFBcUQ7QUFDckQsQUFBdUQ7QUFDdkQsQUFBNEQ7QUFDNUQsQUFBdUQ7QUFDdkQsQUFBK0Q7QUFDL0QsQUFBeUQ7QUFDekQsQUFBcUQ7QUFDckQsQUFBNkQ7QUFDN0QsQUFBaUU7QUFDakUsQUFBMkQ7QUFDM0QsQUFBdUU7QUFDdkUsQUFBNkY7QUFDN0YsQUFBMkU7QUFDM0UsQUFBNkQ7QUFDN0QsQUFBNEU7QUFDNUUsQUFBaUY7QUFDakYsQUFBK0U7QUFDL0UsQUFBaUU7QUFDakUsQUFBOEU7QUFDOUUsQUFBdUU7QUFDdkUsQUFBNkU7QUFDN0UsQUFBbUU7QUFDbkUsQUFBeUQ7QUFDekQsQUFBNEQ7QUFDNUQsQUFBcUQ7QUFDckQsQUFBNkQ7QUFDN0QsQUFBNkM7QUFDN0MsQUFBd0Q7QUFDeEQsQUFBNEQ7QUFDNUQsQUFBdUQ7QUN2Q3ZELEdBQVUsQUFBTyxBQVdoQixTQVhE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QUFBSyxBQUFDLEFBQUMsT0FDcEMsQUFBTyxRQUFDLEFBQUcsSUFBQyxBQUFTLFVBQUMsQUFBSyxNQUFFLEFBQUssQUFBQyxBQUFDLEFBQ3JDLEFBQUksV0FDSCxBQUFPLFNBQUMsQUFBRyxJQUFDLEFBQVMsVUFBQyxBQUFJLEtBQUUsQUFBSyxBQUFDLEFBQUMsQUFDckMsTUFBQyxBQVlELEFBQU0saUJBdEZrQixBQUFLLE1BQUMsQUFBUyxXQUEzQixRQUFHLElBZ0dmLEFBQ0YsR0FBQyxHQXBIUyxBQUFPLFVBQVAsQUFBTyxRQW9IaEIsS0NwSEQsQUFBQyxFQUFDLFdBQ0QsR0FBSSxBQUFLLE9BQUcsR0FBSSxBQUFLLEFBQUUsQUFBQyxPQUN4QixBQUFRLFNBQUMsQUFBTSxPQUFDLG9CQUFDLEFBQU8sUUFBQyxBQUFHLEtBQUMsQUFBSyxBQUFDLE1BQUMsQUFBSyxBQUFDLEFBQUUsUUFBRSxBQUFRLFNBQUMsQUFBYyxlQUFDLEFBQVUsQUFBQyxBQUFDLEFBQUMsQUFDcEYsWUFBQyxBQUFDLEFBQUMsR0NISCxBQUFxQztBQUNyQyxBQUF5RDtBQUN6RCxBQUFvRDtBQUNwRCxBQUF1RDtBQUN2RCxBQUFrRDtBQUNsRCxBQUFrRDtBQUNsRCxBQUFtRDtBQUNuRCxBQUFtQyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvRmlsZVNhdmVyL0ZpbGVTYXZlci5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9jbGFzc25hbWVzL2NsYXNzbmFtZXMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvY2xpcGJvYXJkL2NsaXBib2FyZC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9jb2RlbWlycm9yL2NvZGVtaXJyb3IuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvY29kZW1pcnJvci9yZWFjdC1jb2RlbWlycm9yLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL2ZpeGVkLWRhdGEtdGFibGUvZml4ZWQtZGF0YS10YWJsZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9mdXNlL2Z1c2UuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9qc3ppcC9qc3ppcC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL21vbWVudC9tb21lbnQtbm9kZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9tb21lbnQvbW9tZW50LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9waXhpLmpzL3BpeGkuanMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcHJvajQvcHJvajQuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmMtc2xpZGVyL3JjLXNsaWRlci5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC1jb2xvci9yZWFjdC1jb2xvci5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC1kYXRlLXBpY2tlci5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC1kcm9wem9uZS9yZWFjdC1kcm9wem9uZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC1ub3RpZmljYXRpb24tc3lzdGVtL3JlYWN0LW5vdGlmaWNhdGlvbi1zeXN0ZW0uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3Qtc3BhcmtsaW5lcy9yZWFjdC1zcGFya2xpbmVzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL3JlYWN0LXN3Zi9yZWFjdC1zd2YuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtYWRkb25zLWNyZWF0ZS1mcmFnbWVudC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtYWRkb25zLWxpbmtlZC1zdGF0ZS1taXhpbi5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1hZGRvbnMtcGVyZi5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1hZGRvbnMtcHVyZS1yZW5kZXItbWl4aW4uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtYWRkb25zLXRlc3QtdXRpbHMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtYWRkb25zLXRyYW5zaXRpb24tZ3JvdXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtYWRkb25zLXVwZGF0ZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZ2xvYmFsLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL3N3Zm9iamVjdC9zd2ZvYmplY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLy4uL3R5cGluZ3MvdHNkLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL3dlYXZlL2FzLXR5cGVzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi8uLi90eXBpbmdzL3dlYXZlL3dlYXZlanMtY29yZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vLi4vdHlwaW5ncy93ZWF2ZS93ZWF2ZWpzLmQudHNcIi8+XG4iLCJuYW1lc3BhY2UgVG9kb0FwcCB7XG5cdGltcG9ydCBMaW5rYWJsZVN0cmluZyA9IHdlYXZlanMuY29yZS5MaW5rYWJsZVN0cmluZztcblx0aW1wb3J0IExpbmthYmxlQm9vbGVhbiA9IHdlYXZlanMuY29yZS5MaW5rYWJsZUJvb2xlYW47XG5cblx0ZXhwb3J0IGNsYXNzIFRvZG9cblx0e1xuXHRcdGlkID0gV2VhdmUubGlua2FibGVDaGlsZCh0aGlzLCBMaW5rYWJsZVN0cmluZyk7XG5cdFx0dGV4dCA9IFdlYXZlLmxpbmthYmxlQ2hpbGQodGhpcywgTGlua2FibGVTdHJpbmcpO1xuXHRcdGNvbXBsZXRlID0gV2VhdmUubGlua2FibGVDaGlsZCh0aGlzLCBMaW5rYWJsZUJvb2xlYW4pO1xuXHR9XG5cdFdlYXZlLnJlZ2lzdGVyQ2xhc3MoVG9kbywgXCJ3ZWF2ZWpzLmFwcC5Ub2RvQXBwLlRvZG9cIiwgbnVsbCwgXCJUb2RvXCIpO1xufSIsIm5hbWVzcGFjZSBUb2RvQXBwLmNvbXBvbmVudHNcbntcblxuXHRleHBvcnQgaW50ZXJmYWNlIFRvZG9UZXh0SW5wdXRQcm9wc1xuXHR7XG5cdFx0b25TYXZlOkZ1bmN0aW9uO1xuXHRcdGNsYXNzTmFtZT86c3RyaW5nO1xuXHRcdGlkPzogc3RyaW5nO1xuXHRcdHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuXHRcdHZhbHVlPzpzdHJpbmc7XG5cdH1cblxuXHRleHBvcnQgaW50ZXJmYWNlIFRvZG9UZXh0SW5wdXRTdGF0ZVxuXHR7XG5cdFx0dmFsdWU6c3RyaW5nO1xuXHR9XG5cblx0ZXhwb3J0IGNsYXNzIFRvZG9UZXh0SW5wdXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VG9kb1RleHRJbnB1dFByb3BzLCBUb2RvVGV4dElucHV0U3RhdGU+XG5cdHtcblxuXHRcdGNvbnN0cnVjdG9yKHByb3BzOlRvZG9UZXh0SW5wdXRQcm9wcylcblx0XHR7XG5cdFx0XHRzdXBlcihwcm9wcyk7XG5cdFx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0XHR2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSB8fCAnJ1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEludm9rZXMgdGhlIGNhbGxiYWNrIHBhc3NlZCBpbiBhcyBvblNhdmUsIGFsbG93aW5nIHRoaXMgY29tcG9uZW50IHRvIGJlXG5cdFx0ICogdXNlZCBpbiBkaWZmZXJlbnQgd2F5cy5cblx0XHQgKi9cblx0XHRwcml2YXRlIHNhdmU9KCk9PlxuXHRcdHtcblx0XHRcdHRoaXMucHJvcHMub25TYXZlKHRoaXMuc3RhdGUudmFsdWUpO1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdHZhbHVlOiAnJ1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZXZlbnRcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHByaXZhdGUgb25DaGFuZ2U9KGV2ZW50OlJlYWN0LkZvcm1FdmVudCk9PlxuXHRcdHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHR2YWx1ZTogKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogQHBhcmFtIGV2ZW50XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHRwcml2YXRlIG9uS2V5RG93bj0oZXZlbnQ6UmVhY3QuS2V5Ym9hcmRFdmVudCk9PlxuXHRcdHtcblx0XHRcdGlmIChldmVudC5rZXlDb2RlID09PSB3ZWF2ZWpzLnV0aWwuS2V5Ym9hcmRVdGlscy5LRVlDT0RFUy5FTlRFUikge1xuXHRcdFx0XHR0aGlzLnNhdmUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZW5kZXIoKVxuXHRcdHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG5cdFx0XHRcdFx0aWQ9e3RoaXMucHJvcHMuaWR9XG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG5cdFx0XHRcdFx0b25CbHVyPXt0aGlzLnNhdmV9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG5cdFx0XHRcdFx0b25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cblx0XHRcdFx0XHR2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cblx0XHRcdFx0XHRhdXRvRm9jdXM9e3RydWV9XG5cdFx0XHRcdC8+XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufSIsIm5hbWVzcGFjZSBUb2RvQXBwLmNvbXBvbmVudHNcbntcblx0aW1wb3J0IFRvZG8gPSBUb2RvQXBwLlRvZG87XG5cdGltcG9ydCBEeW5hbWljQ29tcG9uZW50ID0gd2VhdmVqcy51aS5EeW5hbWljQ29tcG9uZW50O1xuXHRpbXBvcnQgTGlua2FibGVXYXRjaGVyID0gd2VhdmVqcy5jb3JlLkxpbmthYmxlV2F0Y2hlcjtcblx0aW1wb3J0IFdlYXZlUmVhY3RVdGlscyA9IHdlYXZlanMudXRpbC5XZWF2ZVJlYWN0VXRpbHM7XG5cblx0ZXhwb3J0IGludGVyZmFjZSBUb2RvSXRlbVByb3BzXG5cdHtcblx0XHR0b2RvOlRvZG87XG5cdFx0b25EZXN0cm95Q2xpY2s/OiAoKSA9PiB2b2lkO1xuXHR9XG5cblx0ZXhwb3J0IGludGVyZmFjZSBUb2RvSXRlbVN0YXRlXG5cdHtcblx0XHRpc0VkaXRpbmc6IGJvb2xlYW47XG5cdH1cblxuXHRleHBvcnQgY2xhc3MgVG9kb0l0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VG9kb0l0ZW1Qcm9wcywgVG9kb0l0ZW1TdGF0ZT5cblx0e1xuXHRcdHByaXZhdGUgZ2V0IHRvZG8oKVxuXHRcdHtcblx0XHRcdHJldHVybiB0aGlzLnByb3BzLnRvZG87XG5cdFx0fVxuXHRcdC8qKlxuXHRcdCAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuXHRcdCAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cdFx0ICpcblx0XHQgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcblx0XHQgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcblx0XHQgKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cblx0XHQgKi9cblxuXHRcdGNvbnN0cnVjdG9yKHByb3BzOlRvZG9JdGVtUHJvcHMpXG5cdFx0e1xuXHRcdFx0c3VwZXIocHJvcHMpO1xuXHRcdFx0RHluYW1pY0NvbXBvbmVudC5zZXREZXBlbmRlbmNpZXModGhpcywgW3Byb3BzLnRvZG9dKTtcblx0XHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRcdGlzRWRpdGluZzogZmFsc2Vcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSBvblRvZ2dsZUNvbXBsZXRlPSgpPT5cblx0XHR7XG5cdFx0XHR0aGlzLnRvZG8uY29tcGxldGUudmFsdWUgID0gIXRoaXMudG9kby5jb21wbGV0ZS52YWx1ZTtcblx0XHR9XG5cblx0XHRwcml2YXRlIG9uRG91YmxlQ2xpY2s9KCk9PlxuXHRcdHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe2lzRWRpdGluZzogdHJ1ZX0pO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgY2FsbGVkIHdpdGhpbiBUb2RvVGV4dElucHV0LlxuXHRcdCAqIERlZmluaW5nIHRoaXMgaGVyZSBhbGxvd3MgVG9kb1RleHRJbnB1dCB0byBiZSB1c2VkIGluIG11bHRpcGxlIHBsYWNlc1xuXHRcdCAqIGluIGRpZmZlcmVudCB3YXlzLlxuXHRcdCAqIEBwYXJhbSAge3N0cmluZ30gdGV4dFxuXHRcdCAqL1xuXHRcdHByaXZhdGUgb25TYXZlPSh0ZXh0OnN0cmluZyk9PlxuXHRcdHtcblx0XHRcdHRoaXMudG9kby50ZXh0LnZhbHVlID0gdGV4dDtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe2lzRWRpdGluZzogZmFsc2V9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBAcmV0dXJuIHtvYmplY3R9XG5cdFx0ICovXG5cdFx0cmVuZGVyKCkge1xuXHRcdFx0dmFyIGlucHV0OkpTWC5FbGVtZW50O1xuXHRcdFx0aWYgKHRoaXMuc3RhdGUuaXNFZGl0aW5nKSB7XG5cdFx0XHRcdGlucHV0ID1cblx0XHRcdFx0XHQ8VG9kb1RleHRJbnB1dFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwiZWRpdFwiXG5cdFx0XHRcdFx0XHRvblNhdmU9e3RoaXMub25TYXZlfVxuXHRcdFx0XHRcdFx0dmFsdWU9e3RoaXMudG9kby50ZXh0LnZhbHVlfVxuXHRcdFx0XHRcdC8+O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMaXN0IGl0ZW1zIHNob3VsZCBnZXQgdGhlIGNsYXNzICdlZGl0aW5nJyB3aGVuIGVkaXRpbmdcblx0XHRcdC8vIGFuZCAnY29tcGxldGVkJyB3aGVuIG1hcmtlZCBhcyBjb21wbGV0ZWQuXG5cdFx0XHQvLyBOb3RlIHRoYXQgJ2NvbXBsZXRlZCcgaXMgYSBjbGFzc2lmaWNhdGlvbiB3aGlsZSAnY29tcGxldGUnIGlzIGEgc3RhdGUuXG5cdFx0XHQvLyBUaGlzIGRpZmZlcmVudGlhdGlvbiBiZXR3ZWVuIGNsYXNzaWZpY2F0aW9uIGFuZCBzdGF0ZSBiZWNvbWVzIGltcG9ydGFudFxuXHRcdFx0Ly8gaW4gdGhlIG5hbWluZyBvZiB2aWV3IGFjdGlvbnMgdG9nZ2xlQ29tcGxldGUoKSB2cy4gZGVzdHJveUNvbXBsZXRlZCgpLlxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc05hbWVzKHtcblx0XHRcdFx0XHQnY29tcGxldGVkJzogdGhpcy50b2RvLmNvbXBsZXRlLnZhbHVlLFxuXHRcdFx0XHRcdCdlZGl0aW5nJzogdGhpcy5zdGF0ZS5pc0VkaXRpbmdcblx0XHRcdFx0XHR9KX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidmlld1wiPlxuXHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT1cInRvZ2dsZVwiXG5cdFx0XHRcdFx0XHRcdHR5cGU9XCJjaGVja2JveFwiXG5cdFx0XHRcdFx0XHRcdGNoZWNrZWQ9e3RoaXMudG9kby5jb21wbGV0ZS52YWx1ZX1cblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e3RoaXMub25Ub2dnbGVDb21wbGV0ZX1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgb25Eb3VibGVDbGljaz17dGhpcy5vbkRvdWJsZUNsaWNrfT5cblx0XHRcdFx0XHRcdFx0e3RoaXMudG9kby50ZXh0LnZhbHVlfVxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cblx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3NOYW1lPVwiZGVzdHJveVwiIG9uQ2xpY2s9e3RoaXMucHJvcHMub25EZXN0cm95Q2xpY2t9Lz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7aW5wdXR9XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRXZWF2ZS5yZWdpc3RlckNsYXNzKFRvZG8sIFwid2VhdmVqcy5hcHAuVG9kb0FwcC5Ub2RvXCIsIG51bGwsIFwiVG9kb1wiKTtcbn1cblxuIiwibmFtZXNwYWNlIFRvZG9BcHAuY29tcG9uZW50c1xue1xuXHRpbXBvcnQgTGlua2FibGVIYXNoTWFwID0gd2VhdmVqcy5jb3JlLkxpbmthYmxlSGFzaE1hcDtcblx0aW1wb3J0IExpbmthYmxlQm9vbGVhbiA9IHdlYXZlanMuY29yZS5MaW5rYWJsZUJvb2xlYW47XG5cdGltcG9ydCBMaW5rYWJsZVdhdGNoZXIgPSB3ZWF2ZWpzLmNvcmUuTGlua2FibGVXYXRjaGVyO1xuXHRpbXBvcnQgV2VhdmVSZWFjdFV0aWxzID0gd2VhdmVqcy51dGlsLldlYXZlUmVhY3RVdGlscztcblx0aW1wb3J0IFRvZG9JdGVtID0gVG9kb0FwcC5jb21wb25lbnRzLlRvZG9JdGVtO1xuXHRpbXBvcnQgV2VhdmVDb21wb25lbnRSZW5kZXJlciA9IHdlYXZlanMudWkuV2VhdmVDb21wb25lbnRSZW5kZXJlcjtcblx0aW1wb3J0IER5bmFtaWNDb21wb25lbnQgPSB3ZWF2ZWpzLnVpLkR5bmFtaWNDb21wb25lbnQ7XG5cblx0ZXhwb3J0IGludGVyZmFjZSBNYWluU2VjdGlvblByb3BzXG5cdHtcblx0XHRhbGxUb2RvczpMaW5rYWJsZUhhc2hNYXA7XG5cdFx0YXJlQWxsQ29tcGxldGU6TGlua2FibGVCb29sZWFuO1xuXHR9XG5cblx0ZXhwb3J0IGludGVyZmFjZSBNYWluU2VjdGlvblN0YXRlXG5cdHtcblxuXHR9XG5cblx0ZXhwb3J0IGNsYXNzIE1haW5TZWN0aW9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PE1haW5TZWN0aW9uUHJvcHMsIE1haW5TZWN0aW9uU3RhdGU+XG5cdHtcblx0XHRwcml2YXRlIGdldCBhbGxUb2RvcygpXG5cdFx0e1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvcHMuYWxsVG9kb3M7XG5cdFx0fVxuXG5cdFx0Y29uc3RydWN0b3IocHJvcHM6TWFpblNlY3Rpb25Qcm9wcylcblx0XHR7XG5cdFx0XHRzdXBlcihwcm9wcyk7XG5cdFx0XHREeW5hbWljQ29tcG9uZW50LnNldERlcGVuZGVuY2llcyh0aGlzLCBbcHJvcHMuYWxsVG9kb3MsIHByb3BzLmFyZUFsbENvbXBsZXRlXSk7XG5cdFx0fVxuXG5cdFx0cHJpdmF0ZSB0b2dnbGVDb21wbGV0ZUFsbD0oKT0+XG5cdFx0e1xuXHRcdFx0VG9kb0FwcC5BcHAudG9nZ2xlQ29tcGxldGVBbGwodGhpcy5hbGxUb2Rvcyk7XG5cdFx0fVxuXG5cdFx0cmVuZGVyKClcblx0XHR7XG5cdFx0XHR2YXIgdG9kb3MgPSB0aGlzLmFsbFRvZG9zLmdldE9iamVjdHMoKS5tYXAoKHRvZG86VG9kbykgPT4ge1xuXHRcdFx0XHRyZXR1cm4gPFRvZG9JdGVtIGtleT17dGhpcy5hbGxUb2Rvcy5nZXROYW1lKHRvZG8pfSB0b2RvPXt0b2RvfSBvbkRlc3Ryb3lDbGljaz17KCkgPT4gVG9kb0FwcC5BcHAuZGVzdHJveSh0aGlzLmFsbFRvZG9zLmdldE5hbWUodG9kbyksIHRoaXMuYWxsVG9kb3MpfS8+O1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxzZWN0aW9uIGlkPVwibWFpblwiPlxuXHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0aWQ9XCJ0b2dnbGUtYWxsXCJcblx0XHRcdFx0XHRcdHR5cGU9XCJjaGVja2JveFwiXG5cdFx0XHRcdFx0XHRvbkNoYW5nZT17dGhpcy50b2dnbGVDb21wbGV0ZUFsbH1cblx0XHRcdFx0XHRcdGNoZWNrZWQ9e3RoaXMucHJvcHMuYXJlQWxsQ29tcGxldGUudmFsdWV9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8bGFiZWwgaHRtbEZvcj1cInRvZ2dsZS1hbGxcIj5NYXJrIGFsbCBhcyBjb21wbGV0ZTwvbGFiZWw+XG5cdFx0XHRcdFx0PHVsIGlkPVwidG9kby1saXN0XCI+e3RvZG9zfTwvdWw+XG5cdFx0XHRcdDwvc2VjdGlvbj5cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5uYW1lc3BhY2UgVG9kb0FwcC5jb21wb25lbnRzXG57XG5cdGltcG9ydCBUb2RvVGV4dElucHV0ID0gVG9kb0FwcC5jb21wb25lbnRzLlRvZG9UZXh0SW5wdXQ7XG5cdGltcG9ydCBDZW50ZXJlZEljb24gPSB3ZWF2ZWpzLnVpLkNlbnRlcmVkSWNvbjtcblxuXHRleHBvcnQgaW50ZXJmYWNlIEhlYWRlclByb3BzXG5cdHtcblx0XHRvbkNyZWF0ZToodGV4dDpzdHJpbmcpPT52b2lkO1xuXHRcdHVuZG86KCk9PnZvaWQ7XG5cdFx0cmVkbzooKT0+dm9pZDtcblx0fVxuXG5cdGV4cG9ydCBpbnRlcmZhY2UgSGVhZGVyU3RhdGVcblx0e1xuXG5cdH1cblxuXHRleHBvcnQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEhlYWRlclByb3BzLCBIZWFkZXJTdGF0ZT5cblx0e1xuXHRcdHByaXZhdGUgb25TYXZlPSh0ZXh0OnN0cmluZyk9PlxuXHRcdHtcblx0XHRcdHRoaXMucHJvcHMub25DcmVhdGUodGV4dCk7XG5cdFx0fVxuXG5cdFx0cmVuZGVyKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8aGVhZGVyIGlkPVwiaGVhZGVyXCI+XG5cdFx0XHRcdFx0PGgxPnRvZG9zPC9oMT5cblx0XHRcdFx0XHQ8VG9kb1RleHRJbnB1dFxuXHRcdFx0XHRcdFx0aWQ9XCJuZXctdG9kb1wiXG5cdFx0XHRcdFx0XHRwbGFjZWhvbGRlcj1cIldoYXQgbmVlZHMgdG8gYmUgZG9uZT9cIlxuXHRcdFx0XHRcdFx0b25TYXZlPXt0aGlzLm9uU2F2ZX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDxkaXYgc3R5bGU9e3tmbG9hdDogXCJyaWdodFwifX0+XG5cdFx0XHRcdFx0XHQ8Q2VudGVyZWRJY29uIGFyaWEtbGFiZWw9XCJVbmRvXCJcblx0XHRcdFx0XHRcdFx0XHRcdCAgb25DbGljaz17dGhpcy5wcm9wcy51bmRvfVxuXHRcdFx0XHRcdFx0XHRcdFx0ICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJ3ZWF2ZS1pY29uXCIpfVxuXHRcdFx0XHRcdFx0XHRcdFx0ICBpY29uUHJvcHM9e3tjbGFzc05hbWU6IFwiZmEgZmEtYXJyb3ctbGVmdFwifX0vPlxuXG5cdFx0XHRcdFx0XHQ8Q2VudGVyZWRJY29uIGFyaWEtbGFiZWw9XCJSZWRvXCJcblx0XHRcdFx0XHRcdFx0XHRcdCAgb25DbGljaz17dGhpcy5wcm9wcy5yZWRvfVxuXHRcdFx0XHRcdFx0XHRcdFx0ICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJ3ZWF2ZS1pY29uXCIpfVxuXHRcdFx0XHRcdFx0XHRcdFx0ICBpY29uUHJvcHM9e3tjbGFzc05hbWU6XCJmYSBmYS1hcnJvdy1yaWdodFwifX0vPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2hlYWRlcj5cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59IiwibmFtZXNwYWNlIFRvZG9BcHAuY29tcG9uZW50c1xue1xuXHRpbXBvcnQgTGlua2FibGVIYXNoTWFwID0gd2VhdmVqcy5jb3JlLkxpbmthYmxlSGFzaE1hcDtcblx0aW1wb3J0IFdlYXZlUGF0aCA9IHdlYXZlanMucGF0aC5XZWF2ZVBhdGg7XG5cdGltcG9ydCBXZWF2ZVJlYWN0VXRpbHMgPSB3ZWF2ZWpzLnV0aWwuV2VhdmVSZWFjdFV0aWxzO1xuXHRpbXBvcnQgTGlua2FibGVXYXRjaGVyID0gd2VhdmVqcy5jb3JlLkxpbmthYmxlV2F0Y2hlcjtcblx0aW1wb3J0IER5bmFtaWNDb21wb25lbnQgPSB3ZWF2ZWpzLnVpLkR5bmFtaWNDb21wb25lbnQ7XG5cblx0aW50ZXJmYWNlIEZvb3RlclByb3BzXG5cdHtcblx0XHRhbGxUb2RvczpMaW5rYWJsZUhhc2hNYXA7XG5cdH1cblxuXHRpbnRlcmZhY2UgRm9vdGVyU3RhdGVcblx0e1xuXG5cdH1cblxuXHRleHBvcnQgY2xhc3MgRm9vdGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEZvb3RlclByb3BzLCBGb290ZXJTdGF0ZT5cblx0e1xuXHRcdGNvbnN0cnVjdG9yKHByb3BzOkZvb3RlclByb3BzKVxuXHRcdHtcblx0XHRcdHN1cGVyKHByb3BzKTtcblx0XHRcdER5bmFtaWNDb21wb25lbnQuc2V0RGVwZW5kZW5jaWVzKHRoaXMsIFtwcm9wcy5hbGxUb2Rvc10pO1xuXHRcdH1cblxuXHRcdGdldCBhbGxUb2RvcygpXG5cdFx0e1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvcHMuYWxsVG9kb3M7XG5cdFx0fVxuXHRcdC8qKlxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgdG8gZGVsZXRlIGFsbCBjb21wbGV0ZWQgVE9ET3Ncblx0XHQgKi9cblx0XHRfb25DbGVhckNvbXBsZXRlZENsaWNrPSgpPT5cblx0XHR7XG5cdFx0XHRUb2RvQXBwLkFwcC5kZXN0cm95Q29tcGxldGVkKHRoaXMuYWxsVG9kb3MpO1xuXHRcdH1cblxuXHRcdHJlbmRlcigpXG5cdFx0e1xuXG5cdFx0XHR2YXIgdG90YWwgPSB0aGlzLmFsbFRvZG9zLmdldE5hbWVzKCkubGVuZ3RoO1xuXG5cdFx0XHRpZiAodG90YWwgPT09IDApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBjb21wbGV0ZWQgPSAwO1xuXG5cdFx0XHR0aGlzLmFsbFRvZG9zLmdldE9iamVjdHMoKS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcblx0XHRcdFx0aWYodG9kby5jb21wbGV0ZS52YWx1ZSlcblx0XHRcdFx0XHRjb21wbGV0ZWQrKztcblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgaXRlbXNMZWZ0ID0gdG90YWwgLSBjb21wbGV0ZWQ7XG5cdFx0XHR2YXIgaXRlbXNMZWZ0UGhyYXNlID0gaXRlbXNMZWZ0ID09PSAxID8gJyBpdGVtICcgOiAnIGl0ZW1zICc7XG5cdFx0XHRpdGVtc0xlZnRQaHJhc2UgKz0gJ2xlZnQnO1xuXG5cdFx0XHQvLyBVbmRlZmluZWQgYW5kIHRodXMgbm90IHJlbmRlcmVkIGlmIG5vIGNvbXBsZXRlZCBpdGVtcyBhcmUgbGVmdC5cblx0XHRcdHZhciBjbGVhckNvbXBsZXRlZEJ1dHRvbjpKU1guRWxlbWVudDtcblx0XHRcdGlmIChjb21wbGV0ZWQpIHtcblx0XHRcdFx0Y2xlYXJDb21wbGV0ZWRCdXR0b24gPVxuXHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdGlkPVwiY2xlYXItY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdG9uQ2xpY2s9e3RoaXMuX29uQ2xlYXJDb21wbGV0ZWRDbGlja30+XG5cdFx0XHRcdFx0XHRDbGVhciBjb21wbGV0ZWQgKHtjb21wbGV0ZWR9KVxuXHRcdFx0XHRcdDwvYnV0dG9uPjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGZvb3RlciBpZD1cImZvb3RlclwiPlxuICAgICAgICBcdFx0XHQ8c3BhbiBpZD1cInRvZG8tY291bnRcIj5cblx0XHRcdFx0XHRcdDxzdHJvbmc+XG5cdFx0XHRcdFx0XHRcdHtpdGVtc0xlZnR9XG5cdFx0XHRcdFx0XHQ8L3N0cm9uZz5cblx0XHRcdFx0XHRcdFx0e2l0ZW1zTGVmdFBocmFzZX1cblx0XHRcdCAgICAgICAgPC9zcGFuPlxuXHRcdFx0XHRcdHtjbGVhckNvbXBsZXRlZEJ1dHRvbn1cblx0XHRcdFx0PC9mb290ZXI+XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufSIsIm5hbWVzcGFjZSBUb2RvQXBwXG57XG5cdGltcG9ydCBUb2RvID0gVG9kb0FwcC5Ub2RvO1xuXHRpbXBvcnQgTGlua2FibGVIYXNoTWFwID0gd2VhdmVqcy5jb3JlLkxpbmthYmxlSGFzaE1hcDtcblx0aW1wb3J0IEhlYWRlciA9IFRvZG9BcHAuY29tcG9uZW50cy5IZWFkZXI7XG5cdGltcG9ydCBNYWluU2VjdGlvbiA9IFRvZG9BcHAuY29tcG9uZW50cy5NYWluU2VjdGlvbjtcblx0aW1wb3J0IEZvb3RlciA9IFRvZG9BcHAuY29tcG9uZW50cy5Gb290ZXI7XG5cdGltcG9ydCBMaW5rYWJsZUJvb2xlYW4gPSB3ZWF2ZWpzLmNvcmUuTGlua2FibGVCb29sZWFuO1xuXG5cdGV4cG9ydCBpbnRlcmZhY2UgVG9kb0FwcFByb3BzXG5cdHtcblx0XHR3ZWF2ZTpXZWF2ZTtcblx0fVxuXG5cdGV4cG9ydCBpbnRlcmZhY2UgVG9kb0FwcFN0YXRlXG5cdHtcblxuXHR9XG5cblx0ZXhwb3J0IGNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxUb2RvQXBwUHJvcHMsIFRvZG9BcHBTdGF0ZT5cblx0e1xuXHRcdGFsbFRvZG9zOkxpbmthYmxlSGFzaE1hcDtcblx0XHRhcmVBbGxDb21wbGV0ZTpMaW5rYWJsZUJvb2xlYW47XG5cblx0XHRjb25zdHJ1Y3Rvcihwcm9wczpUb2RvQXBwUHJvcHMpXG5cdFx0e1xuXHRcdFx0c3VwZXIocHJvcHMpO1xuXHRcdFx0dGhpcy5hbGxUb2RvcyA9ICh0aGlzLnByb3BzLndlYXZlIHx8IG5ldyBXZWF2ZSgpKS5yb290LnJlcXVlc3RPYmplY3QoXCJ0b2Rvc1wiLCBMaW5rYWJsZUhhc2hNYXApO1xuXHRcdFx0dGhpcy5hcmVBbGxDb21wbGV0ZSA9ICh0aGlzLnByb3BzLndlYXZlIHx8IG5ldyBXZWF2ZSgpKS5yb290LnJlcXVlc3RPYmplY3QoXCJhcmVBbGxDb21wbGV0ZVwiLCBMaW5rYWJsZUJvb2xlYW4pO1xuXHRcdFx0dGhpcy5hbGxUb2Rvcy5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgdGhpcy5tYXJrQWxsQXNDb21wbGV0ZSk7XG5cdFx0fVxuXG5cdFx0cHVibGljIHN0YXRpYyBhcmVBbGxDb21wbGV0ZSh0b2RvczpMaW5rYWJsZUhhc2hNYXApXG5cdFx0e1xuXHRcdFx0dmFyIHRvZG9MaXN0ID0gdG9kb3MuZ2V0T2JqZWN0cygpO1xuXHRcdFx0aWYoIXRvZG9MaXN0Lmxlbmd0aClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0XHRmb3IodmFyIHRvZG8gb2YgdG9kb0xpc3QpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCF0b2RvLmNvbXBsZXRlLnZhbHVlKVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHByaXZhdGUgbWFya0FsbEFzQ29tcGxldGUoKVxuXHRcdHtcblx0XHRcdGlmKFRvZG9BcHAuQXBwLmFyZUFsbENvbXBsZXRlKHRoaXMuYWxsVG9kb3MpKVxuXHRcdFx0XHR0aGlzLmFyZUFsbENvbXBsZXRlLnZhbHVlID0gdHJ1ZTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGhpcy5hcmVBbGxDb21wbGV0ZS52YWx1ZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vICBBY3Rpb25zXG5cdFx0Ly8gIENvbGxlY3Rpb24gb2Ygc3RhdGljIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBjYWxsZWRcblx0XHQvLyAgZnJvbSB0aGUgc3ViIGNvbXBvbmVudHNcblx0XHRwdWJsaWMgc3RhdGljIGNyZWF0ZSh0ZXh0OnN0cmluZywgdG9kb3M6TGlua2FibGVIYXNoTWFwKVxuXHRcdHtcblx0XHRcdHRleHQgPSB0ZXh0LnRyaW0oKTtcblx0XHRcdGlmICh0ZXh0ICE9PSAnJylcblx0XHRcdHtcblx0XHRcdFx0dmFyIG5ld1RvZG8gPSB0b2Rvcy5yZXF1ZXN0T2JqZWN0KHRvZG9zLmdlbmVyYXRlVW5pcXVlTmFtZShcIlRvZG9cIiksIFRvZG8pIGFzIFRvZG87XG5cdFx0XHRcdG5ld1RvZG8udGV4dC52YWx1ZSA9IHRleHQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHVibGljIHN0YXRpYyBkZXN0cm95KGlkOnN0cmluZywgdG9kb3M6TGlua2FibGVIYXNoTWFwKVxuXHRcdHtcblx0XHRcdHRvZG9zLnJlbW92ZU9iamVjdChpZCk7XG5cdFx0fVxuXG5cdFx0cHVibGljIHN0YXRpYyBkZXN0cm95Q29tcGxldGVkKHRvZG9zOkxpbmthYmxlSGFzaE1hcClcblx0XHR7XG5cdFx0XHR0b2Rvcy5nZXRPYmplY3RzKCkuZm9yRWFjaCgodG9kbzpUb2RvKSAgPT4ge1xuXHRcdFx0XHRpZih0b2RvLmNvbXBsZXRlLnZhbHVlKVxuXHRcdFx0XHRcdHRvZG9zLnJlbW92ZU9iamVjdCh0b2Rvcy5nZXROYW1lKHRvZG8pKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHB1YmxpYyBzdGF0aWMgdXBkYXRlQWxsKHZhbHVlOmJvb2xlYW4sIHRvZG9zOkxpbmthYmxlSGFzaE1hcClcblx0XHR7XG5cdFx0XHR0b2Rvcy5nZXRPYmplY3RzKCkuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG5cdFx0XHRcdHRvZG8uY29tcGxldGUudmFsdWUgPSB2YWx1ZTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHB1YmxpYyBzdGF0aWMgdG9nZ2xlQ29tcGxldGVBbGwodG9kb3M6TGlua2FibGVIYXNoTWFwKVxuXHRcdHtcblx0XHRcdGlmKFRvZG9BcHAuQXBwLmFyZUFsbENvbXBsZXRlKHRvZG9zKSlcblx0XHRcdFx0VG9kb0FwcC5BcHAudXBkYXRlQWxsKGZhbHNlLCB0b2Rvcyk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdFRvZG9BcHAuQXBwLnVwZGF0ZUFsbCh0cnVlLCB0b2Rvcyk7XG5cdFx0fVxuXG5cdFx0cHVibGljIHVuZG89KCk9PlxuXHRcdHtcblx0XHRcdHRoaXMucHJvcHMud2VhdmUuaGlzdG9yeS51bmRvKCk7XG5cdFx0fVxuXG5cdFx0cHVibGljIHJlZG89KCk9PlxuXHRcdHtcblx0XHRcdHRoaXMucHJvcHMud2VhdmUuaGlzdG9yeS5yZWRvKCk7XG5cdFx0fVxuXG5cdFx0cmVuZGVyKClcblx0XHR7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8ZGl2IHN0eWxlPXt7ZGlzcGxheTogXCJmbGV4XCIsIGZsZXg6IDEsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCJ9fT5cblx0XHRcdFx0XHQ8SGVhZGVyIG9uQ3JlYXRlPXsodGV4dDpzdHJpbmcpID0+IFRvZG9BcHAuQXBwLmNyZWF0ZSh0ZXh0LCB0aGlzLmFsbFRvZG9zKX0gdW5kbz17dGhpcy51bmRvfSByZWRvPXt0aGlzLnJlZG99Lz5cblx0XHRcdFx0XHQ8TWFpblNlY3Rpb24gYWxsVG9kb3M9e3RoaXMuYWxsVG9kb3N9IGFyZUFsbENvbXBsZXRlPXt0aGlzLmFyZUFsbENvbXBsZXRlfS8+XG5cdFx0XHRcdFx0PEZvb3RlciBhbGxUb2Rvcz17dGhpcy5hbGxUb2Rvc30vPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59IiwiJChmdW5jdGlvbiAoKSB7XG5cdHZhciB3ZWF2ZSA9IG5ldyBXZWF2ZSgpO1xuXHRSZWFjdERPTS5yZW5kZXIoPFRvZG9BcHAuQXBwIHdlYXZlPXt3ZWF2ZX0vPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2RvLWFwcFwiKSk7XG59KTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2pzLy9Ub2RvLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vanMvY29tcG9uZW50cy9Ub2RvVGV4dElucHV0LnRzeFwiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2pzL2NvbXBvbmVudHMvVG9kb0l0ZW0udHN4XCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vanMvY29tcG9uZW50cy9NYWluU2VjdGlvbi50c3hcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9qcy9jb21wb25lbnRzL0hlYWRlci50c3hcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9qcy9jb21wb25lbnRzL0Zvb3Rlci50c3hcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9qcy9jb21wb25lbnRzL1RvZG9BcHAudHN4XCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vaW5kZXgudHN4XCIvPiJdfQ==
